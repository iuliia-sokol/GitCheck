{"mappings":"AAGaA,SAASC,cAAc,SAE/BC,iBAAiB,UAEtB,SAAsBC,GACpBA,EAAMC,iBACN,MAAMC,EAAcF,EAAMG,cAAcC,SAASC,MAAMC,MAEjDC,EAAU,CACdC,OAAQ,kCAIV,IAAIC,EAAO,CACTC,MAAO,GACPC,MAAOT,GAGTU,MAXY,gCAAgCV,IAWjC,CAAEK,QAASA,IACnBM,MAAKC,GAAKA,EAAEC,SACZF,MAAKG,IACJP,EAAO,IAAKA,KAASO,GACdP,KAERI,MAAKI,IACJL,MAAM,GAAGK,EAAKC,yBAA0B,CAAEX,QAASA,IAChDM,MAAKC,GAAKA,EAAEC,SACZF,MAAKH,IACJS,QAAQC,IAAIH,GACZE,QAAQC,IAAIV,GACZO,EAAKP,MAAQA,EACNA,KAGRG,MAAKH,IACJS,QAAQC,IAAIH,GACZ,IAAK,IAAII,KAAQX,EAAO,CACtB,IAAIY,EAAM,GAAGD,EAAKE,2BAClBX,MAAMU,EAAK,CAAEf,QAASA,IACnBM,MAAKC,GAAKA,EAAEC,SACZF,MAAKW,IACJ,IAAIC,EAAe,GAyBnB,OAxBAD,EAAOE,SAAQC,IAIb,GAAkB,MAAdA,EAAIC,OAIR,OACED,EAAIC,OAAOC,KAAOZ,EAAKY,IACvBF,EAAIC,OAAOjB,QAAUM,EAAKN,OAC1BgB,EAAIH,OAAOI,OAAOjB,QAAUM,EAAKN,OACjCgB,EAAIH,OAAOI,OAAOE,OAASb,EAAKa,MAChCH,EAAIH,OAAOI,OAAOG,QAAUd,EAAKc,OAIjCN,EAAaO,KAAKL,GACXF,QAVT,CAaA,IAEFJ,EAAKY,QAAU,IAAIR,GACZD,CAAM,IAEdX,MAAKqB,IACJ,GAAIA,EAAOC,QAAU,IACnB,IAAK,IAAIC,EAAI,EAAGA,EAAI,IAAKA,IAAK,CAC5B,IAAIb,EAAM,GAAGF,EAAKE,iCAAiCa,EAAI,IA2BvD,YA1BAxB,MAAMW,EAAK,CAAEhB,QAASA,IACnBM,MAAKC,GAAKA,EAAEC,SACZF,MAAKW,IACJ,IAAIC,EAAe,GAqBnB,OApBAD,EAAOE,SAAQC,GAMXA,EAAIC,OAAOC,KAAOZ,EAAKY,IACvBF,EAAIC,OAAOjB,QAAUM,EAAKN,OAC1BgB,EAAIH,OAAOI,OAAOjB,QAAUM,EAAKN,OACjCgB,EAAIH,OAAOI,OAAOE,OAASb,EAAKa,MAChCH,EAAIH,OAAOI,OAAOG,QAAUd,EAAKc,OAGjCN,EAAaO,KAAKL,GACXF,GAEFA,IAETJ,EAAKY,QAAU,IAAIZ,EAAKY,WAAYR,GAE7BD,CAAM,G,QAO3B,IAELa,OAAMC,GAAMnB,QAAQoB,MAAMD,I","sources":["src/js/searchByInput.js"],"sourcesContent":["// import { Tooltip as Tooltip, Toast as Toast, Popover as Popover } from 'bootstrap';\n\n// import { key } from './hide/key';\nconst form = document.querySelector('.form');\n\nform.addEventListener('submit', onFormSubmit);\n\nfunction onFormSubmit(event) {\n  event.preventDefault();\n  const searchQuery = event.currentTarget.elements.input.value;\n  const url = `https://api.github.com/users/${searchQuery}`;\n  const headers = {\n    Accept: 'application/vnd.github.v3+json',\n    // Authorization: `token ${key}`,\n  };\n\n  let user = {\n    repos: [],\n    login: searchQuery,\n  };\n\n  fetch(url, { headers: headers })\n    .then(r => r.json())\n    .then(data => {\n      user = { ...user, ...data };\n      return user;\n    })\n    .then(user => {\n      fetch(`${user.repos_url}?per_page=100`, { headers: headers })\n        .then(r => r.json())\n        .then(repos => {\n          console.log(user);\n          console.log(repos);\n          user.repos = repos;\n          return repos;\n        })\n\n        .then(repos => {\n          console.log(user);\n          for (let repo of repos) {\n            let url = `${repo.url}/commits?per_page=100`;\n            fetch(url, { headers: headers })\n              .then(r => r.json())\n              .then(commit => {\n                let filteredData = [];\n                commit.forEach(com => {\n                  // console.log(com.commit);\n                  // console.log(com.author.login);\n                  // console.log(user.id);\n                  if (com.author == null) {\n                    return;\n                  }\n\n                  if (\n                    com.author.id === user.id ||\n                    com.author.login === user.login ||\n                    com.commit.author.login === user.login ||\n                    com.commit.author.name === user.name ||\n                    com.commit.author.email === user.email\n                  ) {\n                    // console.log(com.author.login);\n\n                    filteredData.push(com);\n                    return filteredData;\n                  }\n\n                  return;\n                });\n                repo.commits = [...filteredData];\n                return commit;\n              })\n              .then(commit => {\n                if (commit.length >= 100) {\n                  for (let i = 1; i < 571; i++) {\n                    let url = `${repo.url}/commits?per_page=100?page=${i + 1}`;\n                    fetch(url, { headers: headers })\n                      .then(r => r.json())\n                      .then(commit => {\n                        let filteredData = [];\n                        commit.forEach(com => {\n                          // if (com.author == null) {\n                          //   return;\n                          // }\n\n                          if (\n                            com.author.id === user.id ||\n                            com.author.login === user.login ||\n                            com.commit.author.login === user.login ||\n                            com.commit.author.name === user.name ||\n                            com.commit.author.email === user.email\n                          ) {\n                            // console.log(com.author.login);\n                            filteredData.push(com);\n                            return filteredData;\n                          }\n                          return filteredData;\n                        });\n                        repo.commits = [...repo.commits, ...filteredData];\n                        // console.log(repo.commits);\n                        return commit;\n                      });\n                    return;\n                  }\n                }\n              });\n          }\n        });\n    })\n    .catch(er => console.error(er));\n}\n"],"names":["document","querySelector","addEventListener","event","preventDefault","searchQuery","currentTarget","elements","input","value","headers","Accept","user1","repos","login","fetch","then","r","json","data","user","repos_url","console","log","repo","url2","url","commit","filteredData","forEach","com","author","id","name","email","push","commits","commit1","length","i","catch","er","error"],"version":3,"file":"index.413c919b.js.map"}